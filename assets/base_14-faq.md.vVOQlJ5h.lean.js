import{_ as a,c as s,a2 as i,o}from"./chunks/framework.D3xnaaT3.js";const t="/q-uniapp-docs/assets/14-1.BFlSRing.png",n="/q-uniapp-docs/assets/14-4.CKgEslY5.png",g=JSON.parse('{"title":"常见问题","description":"","frontmatter":{},"headers":[],"relativePath":"base/14-faq.md","filePath":"base/14-faq.md","lastUpdated":1734704359000}'),p={name:"base/14-faq.md"};function c(d,e,l,h,r,u){return o(),s("div",null,e[0]||(e[0]=[i('<h1 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h1><p>本篇介绍一些常见的问题。</p><h2 id="_1-如何设置-修改首页" tabindex="-1">1. 如何设置/修改首页？ <a class="header-anchor" href="#_1-如何设置-修改首页" aria-label="Permalink to &quot;1. 如何设置/修改首页？&quot;">​</a></h2><p><code>vue</code> 文件的 <code>route-block</code> 块里面设置 <code>type=&quot;home&quot;</code> 即可，请确保项目里面 <code>只有一个页面</code> 是这个配置。</p><blockquote><p>注意：如果有多个，会按照字母顺序排列，第一个是首页。（可能不是您的想要的效果。）</p></blockquote><h2 id="_2-修改-pages-json、manifest-json-被覆盖问题" tabindex="-1">2. 修改 <code>pages.json</code>、<code>manifest.json</code> 被覆盖问题 <a class="header-anchor" href="#_2-修改-pages-json、manifest-json-被覆盖问题" aria-label="Permalink to &quot;2. 修改 `pages.json`、`manifest.json` 被覆盖问题&quot;">​</a></h2><ul><li><code>pages.json</code></li></ul><p>本项目引入了 <code>@uni-helper/vite-plugin-uni-pages</code>，<code>pages.json</code> 文件将会自动生成，手动修改 <code>pages.json</code> 将会被覆盖。</p><p>全局的东西请在 <code>pages.config.ts</code> 里面配置，页面的东西请在 <code>vue</code> 文件的 <code>route-block</code> 配置。</p><ul><li><code>manifest.json</code></li></ul><p>与上面类似。本项目引入了 <code>@uni-helper/vite-plugin-uni-manifest</code>，<code>manifest.json</code> 文件将会自动生成，手动修改 <code>manifest.json</code> 将会被覆盖。</p><p>如需修改，请在 <code>manifest.config.ts</code> 里面修改。</p><h2 id="_3-怎么分包" tabindex="-1">3. 怎么分包？ <a class="header-anchor" href="#_3-怎么分包" aria-label="Permalink to &quot;3. 怎么分包？&quot;">​</a></h2><p><code>vite.config.ts</code> 里面有一个配置，如下：(其中 <code>subPackages</code> 就是用来分包的)</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">UniPages</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>\n<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    exclude</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">**/components/**/**.*</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">],</span></span>\n<span class="line highlighted"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    subPackages</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">src/pages-sub</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">], </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 是个数组，可以配置多个</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}),</span></span></code></pre></div><h2 id="_4-首次运行-pnpm-mp-时报错。" tabindex="-1">4. 首次运行 <code>pnpm:mp</code> 时报错。 <a class="header-anchor" href="#_4-首次运行-pnpm-mp-时报错。" aria-label="Permalink to &quot;4. 首次运行 `pnpm:mp` 时报错。&quot;">​</a></h2><p>首次运行 <code>pnpm:mp</code> 时报错，报错如下：</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span>Error: ENOENT: no such file or directory, open &#39;/Users/qinxiaokai/q-uniapp-projects/q-uniapp/src/manifest.json&#39;</span></span></code></pre></div><p>首次运行 <code>非h5端</code> 时都可能出现上面的问题，需要先执行一下 <code>pnpm i</code> 以生成 <code>src/manifest.json</code> 文件，后面就不会报错了。</p><h2 id="_5-git-commit-报错。" tabindex="-1">5. <code>git commit</code> 报错。 <a class="header-anchor" href="#_5-git-commit-报错。" aria-label="Permalink to &quot;5. `git commit` 报错。&quot;">​</a></h2><p>请看 <code>commitlint.config.ts</code> 里面的配置，需要满足对应的设定。根据自己的需要，可以修改 <code>commitlint.config.ts</code> 里面的配置。</p><p>如果是一次的（比如引入了某个第三方库），可以通过 <code>--no-verify</code> 参数跳过校验：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feat: xxx</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --no-verify</span></span></code></pre></div><p>第三方库还有另外一种处理方式，放到特定的文件夹，然后在 <code>.eslintignore</code> 和 <code>.styleintignore</code> 里面加上该文件夹。</p><h2 id="_6-uni-app-无法使用-process-env-变量-怎么办" tabindex="-1">6. <code>uni-app</code> 无法使用 <code>process.env</code> 变量，怎么办？ <a class="header-anchor" href="#_6-uni-app-无法使用-process-env-变量-怎么办" aria-label="Permalink to &quot;6. `uni-app` 无法使用 `process.env` 变量，怎么办？&quot;">​</a></h2><p>使用 <code>import.meta.env</code> 替代！</p><h2 id="_7-如何跟随-uni-app-官方升级" tabindex="-1">7. 如何跟随 <code>uni-app</code> 官方升级？ <a class="header-anchor" href="#_7-如何跟随-uni-app-官方升级" aria-label="Permalink to &quot;7. 如何跟随 `uni-app` 官方升级？&quot;">​</a></h2><p>项目下，执行 <code>npx @dcloudio/uvm@latest</code> 即可更新。</p><p><img src="'+t+'" alt="alt text"></p><blockquote><p>注意，上面的命令会自动安装 <code>vue-i18n</code>，可以手动删除（<code>pnpm un vue-i18n</code>)，也可以不理它（没多大影响）。</p></blockquote><h2 id="_8-如何把已经加入-git-管理的文件移出-git-管理" tabindex="-1">8. 如何把已经加入 <code>git</code> 管理的文件移出 <code>git</code> 管理? <a class="header-anchor" href="#_8-如何把已经加入-git-管理的文件移出-git-管理" aria-label="Permalink to &quot;8. 如何把已经加入 `git` 管理的文件移出 `git` 管理?&quot;">​</a></h2><ul><li>第一步，先把文件移出<code>git</code> 管理，操作如下：</li></ul><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span># git rm -r --cached file1 file2  ## 针对某些文件</span></span>\n<span class="line"><span># git rm -r --cached dir1 dir2  ## 针对某些文件夹</span></span>\n<span class="line"><span># git rm -r --cached .  ## 针对所有文件</span></span></code></pre></div><ul><li>第二步，提交 <code>commit</code> 以正式删除的文件</li></ul><blockquote><p>总结：<code>git rm -r --cached .</code> + <code>git commit</code> 即可。</p></blockquote><h2 id="_9-支付宝小程序运行报错。" tabindex="-1">9. 支付宝小程序运行报错。 <a class="header-anchor" href="#_9-支付宝小程序运行报错。" aria-label="Permalink to &quot;9. 支付宝小程序运行报错。&quot;">​</a></h2><ul><li><p>默认运行是会报错的，如下图</p></li><li><p>只需要勾上 <code>本地开发跳过 ES5 转译</code> 即可正常运行</p></li></ul><blockquote><p>总结：勾上 <code>本地开发跳过 ES5 转译</code> 即可。</p></blockquote><h2 id="_10-支持-uni-app-x-吗" tabindex="-1">10. 支持 <code>uni-app x</code> 吗？ <a class="header-anchor" href="#_10-支持-uni-app-x-吗" aria-label="Permalink to &quot;10. 支持 `uni-app x` 吗？&quot;">​</a></h2><p>不支持。但我们一直保持关注。<a href="https://doc.dcloud.net.cn/uni-app-x/" target="_blank" rel="noreferrer">uni-app x 传送门</a></p><p>目前 <code>q-uniapp</code> 已经有 <code>hbx</code> 模板，后续接入 <code>uni-app x</code> 会很容易，坐等官方发布。</p><h2 id="_11-为啥-vue-已经-3-4-了-还不支持-definemodel" tabindex="-1">11. 为啥 <code>vue</code> 已经 <code>3.4+</code> 了，还不支持 <code>defineModel</code> ? <a class="header-anchor" href="#_11-为啥-vue-已经-3-4-了-还不支持-definemodel" aria-label="Permalink to &quot;11. 为啥 `vue` 已经 `3.4+` 了，还不支持 `defineModel` ?&quot;">​</a></h2><p><code>uni-app</code> 官方虽然已经把 <code>vue</code> 升级到 <code>3.4+</code> 了，但是目前只有 <code>H5端</code> 支持 <code>defineModel</code>，其他端目前运行报错，详情请看 <code>uni-app</code> 官网的发布日志：</p><p><a href="https://3085868976.hiecheimaetu.com:22443/qn-GO8xCsKgpKDZWIBAkVCUkI1EnGmQUMT4.update.dcloud.net.cn/hbuilderx/changelog/4.14.2024043013.html" target="_blank" rel="noreferrer">HBuilder X - Release Notes</a></p><p>关键截图如下：</p><p><img src="'+n+'" alt="alt text"></p><p>真实运行报错截图如下：（分别是 <code>小程序</code> 和 <code>APP</code> ）</p>',47)]))}const m=a(p,[["render",c]]);export{g as __pageData,m as default};
